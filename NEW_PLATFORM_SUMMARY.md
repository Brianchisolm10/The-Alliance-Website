# Comprehensive Multi-Platform Website Project Summary

## Project Overview

I want to build a comprehensive multi-platform website that combines e-commerce, education, booking, blogging, and social impact features into one unified system. This platform should include all the features from the AFYA Wellness platform plus additional capabilities for a complete digital ecosystem. The platform should be built with the philosophy of "Build Like Lego" - starting with simple, stable foundations and then adding complexity, ensuring each component is solid and tested before moving forward.

## Core Platform Features

### E-Commerce Store
The website needs a full e-commerce store with product catalog displaying health products, supplements, and gear with images and descriptions. The shopping cart should have quantity controls and persist across sessions. Stripe payment integration must be secure and PCI-compliant without storing card details. The system needs inventory management with real-time stock tracking and low-stock alerts. Order tracking should include status updates (pending, processing, shipped, delivered, cancelled, refunded) with automated email notifications at each stage. Customer accounts should store purchase history and saved payment methods. Products should support multiple categories, variants, and digital downloads. The store must include an optional donation allocation interface during checkout where customers can allocate portions of their purchase to specific impact areas (Foundations, Equipment, Gear Drive, Sponsorship). Order confirmation pages should display order details and send confirmation emails with tracking information.

### Blog Platform
I need a comprehensive blog platform with markdown support for easy content creation, multiple authors with individual profiles and credentials, categories and tags for organization, comments system with moderation capabilities, RSS feed for subscribers, full-text search functionality, and comprehensive SEO optimization with meta tags and structured data. The blog should support rich media including images with optimization, videos with embedding, and other embedded content. Authors should have individual profiles displaying their bio, credentials, and published articles. The platform needs post scheduling for future publication, draft management, revision history, and the ability to feature posts on the homepage. Include related post recommendations, social sharing buttons, and reading time estimates.

### Booking System
The platform requires a booking system with Calendly integration for discovery call scheduling. The system should support a streamlined discovery pipeline where new clients complete a minimal discovery form capturing name, email, primary goal, and optional notes, then immediately redirect to a scheduling interface for booking a discovery call. The booking system should handle appointment scheduling with calendar integration, availability management for multiple staff members, automated reminder emails before appointments, booking confirmations sent immediately after scheduling, and the ability to handle different service types with varying durations and pricing. Users should be able to reschedule or cancel bookings with appropriate policies. The system should track discovery call status (submitted, call scheduled, call completed, converted, closed) and display this in the admin dashboard. Discovery calls serve as operational decision points for assigning programs, determining sponsorship eligibility, and selecting assessment pathways.

### Learning Management System (LMS)
I want a full learning management system with course creation and management tools, video hosting integration, comprehensive progress tracking, quizzes and assessments with automated grading, certificates upon completion with verification capabilities, student enrollment management, and discussion forums for community interaction. Courses should support multiple formats including video lessons, text content with markdown support, downloadable resources and templates, and interactive elements. The LMS should track student progress with completion percentages, time spent, and quiz scores. Provide analytics for instructors showing student engagement, completion rates, and performance metrics. Include a dedicated learning dashboard for students showing enrolled courses, progress, upcoming deadlines, and achievements. Support course prerequisites, drip content release schedules, and cohort-based learning models.

### Donation System and Impact Hub
The donation page needs to support one-time and recurring donations with preset amounts ($25, $50, $100, $250) and custom amount options. Process payments through Stripe integration with multiple payment methods. Implement impact area selection where donors can allocate their donation across four specific areas: Foundations (organizational infrastructure), Equipment (fitness equipment for programs), Gear Drive (athletic gear donations), and Sponsorship (free access for underserved communities). Send donation receipts via email with tax receipt information immediately after completion. Include donor recognition options with privacy controls. Display transparent impact metrics showing exactly how donations are utilized with numerical statistics and success stories. Track total donations and display real-time impact statistics on the impact hub page. The impact hub should showcase AFYA's social commitment including free access to underserved communities, transparent operations, inclusive design, and multilingual adaptability. Display alignment with ESG (Environmental, Social, and Governance) principles and UN Sustainable Development Goals (SDGs 3, 4, and 10). Include a gear drive section for physical donations where donors can submit forms for donating athletic gear with item details, condition assessment, and pickup or dropoff preferences.

## User Management & Authentication

The platform needs a robust authentication system using NextAuth.js v5 with credentials provider for email/password login. Implement password reset functionality with time-limited tokens sent via email. User accounts should be created by administrators who generate unique setup tokens and send setup emails to new users. When users receive setup emails, they click a link to /setup/[token] where they set their password and complete their profile, activating their account. User roles should include USER (standard clients), ADMIN (staff with elevated permissions), and SUPER_ADMIN (full system access). Each role should have specific permissions and access levels enforced through middleware and server-side checks. User status should track PENDING (awaiting setup), ACTIVE (full access), INACTIVE (temporarily disabled), and SUSPENDED (access revoked).

Users need comprehensive profile management including personal information, profile pictures, bio and social links, purchase history, course enrollments, booking history, saved tool results from wellness calculators, and notification preferences. The system should support population assignment (GENERAL, ATHLETE, YOUTH, RECOVERY, PREGNANCY, POSTPARTUM, OLDER_ADULT, CHRONIC_CONDITION) which determines available assessment modules and personalized content. Implement session management with JWT tokens, session timeout after 30 minutes of inactivity with warning dialogs, and secure session storage. All passwords must be hashed using bcrypt with a minimum cost factor of 12.

## Admin Dashboard

I need a powerful admin dashboard with real-time analytics showing key performance indicators including active users count, pending actions requiring attention, revenue metrics, user growth trends, course enrollments, bookings scheduled and completed, blog engagement metrics, and donation totals. The dashboard should display charts and graphs for data visualization using visual libraries, recent activity feeds showing latest user actions and system events, and quick action buttons for common tasks like creating users, viewing submissions, processing orders, and managing content. Include notifications for items requiring attention such as new discovery forms, pending orders, and system alerts.

Administrators need full content management capabilities for products (create, edit, delete with images and pricing), blog posts (markdown editor with preview), courses (lesson management and student tracking), bookings (calendar view and status updates), users (account creation and role management), donations (tracking and receipts), testimonials (approval workflow), programs (descriptions and intensity levels), impact areas (metrics and descriptions), and site settings. The admin panel should include bulk actions for managing multiple items simultaneously, advanced search and filtering with multiple criteria, export functionality for data in CSV format, and comprehensive activity logging for audit trails tracking all admin actions with timestamps, IP addresses, and affected resources. Implement role-based access control so ADMIN users can manage content and users while SUPER_ADMIN users have full system access including sensitive settings and financial data.

## Assessment & Personalization System

The platform should include a modular assessment framework within the authenticated client portal where users complete population-specific questionnaires to receive personalized wellness packets. Implement seven assessment types: GENERAL (baseline health assessment), NUTRITION (dietary habits and goals), TRAINING (fitness programming), PERFORMANCE (athlete-specific metrics), YOUTH (age-appropriate wellness), RECOVERY (injury rehabilitation), and LIFESTYLE (holistic wellness factors). Assessments should be population-specific with dynamic form generation based on user's assigned population and previous responses. The system should create unified user profiles that aggregate data from all completed assessments to inform personalized content recommendations, product suggestions, and course recommendations.

Assessment modules should include: Pregnancy Module (prenatal health, exercise modifications, nutrition needs), Postpartum Module (recovery timeline, pelvic floor health, mental health screening), Elderly Module (fall risk assessment, mobility evaluation, chronic condition management), Athlete Module (sport-specific training, performance metrics, competition preparation), Youth Module (age-appropriate activities, growth considerations, skill development), Recovery Module (injury assessment, rehabilitation protocols, return-to-activity planning), Dietary Module (food preferences, allergies, macronutrient needs), Lifestyle Module (sleep quality, stress levels, daily activity), Movement Module (mobility screening, movement patterns, functional capacity), and Equipment Module (available resources, space constraints, budget considerations).

Assessment results should generate personalized PDF packets using React PDF renderer with nine packet types: General Packet (comprehensive wellness overview), Nutrition Packet (meal plans and dietary guidance), Training Packet (workout programming), Athlete Performance Packet (sport-specific training), Youth Packet (age-appropriate programming), Recovery Packet (rehabilitation protocols), Pregnancy Packet (prenatal wellness), Postpartum Packet (postnatal recovery), and Older Adult Packet (senior-specific programming). Each packet should use professional templates with branded design, exercise demonstrations from the exercise library, nutrition plans from the nutrition library, and personalized recommendations based on assessment responses. Packets should be downloadable in PDF format, stored securely in Vercel Blob storage, and accessible from user accounts with version control tracking changes over time.

## Content Libraries & Resources

I need comprehensive content libraries managed through the admin panel. The exercise library should contain 100+ exercises with detailed information including name, description, category (strength, cardio, flexibility, balance, mobility, plyometric), target muscles (array of muscle groups), equipment requirements (bodyweight, dumbbells, barbell, resistance bands, machines, etc.), difficulty levels (beginner, intermediate, advanced, elite), video URLs for demonstrations, image URLs for reference, step-by-step instructions, regressions (easier variations), progressions (harder variations), contraindications (population-specific safety rules), and population tags indicating which populations can safely perform each exercise. The nutrition library should contain meal plans, recipes with ingredients and instructions, macronutrient breakdowns (protein, carbs, fats, calories), micronutrients (vitamins and minerals), allergen information (dairy, gluten, nuts, soy, etc.), dietary tags (vegan, vegetarian, gluten-free, dairy-free, paleo, keto), serving sizes, population-specific suitability, contraindications for certain populations, and alternative foods for dietary restrictions. Resource libraries should include downloadable templates, guides, worksheets, and tools. All library content should be searchable with full-text search, filterable by multiple criteria (category, difficulty, equipment, population, dietary tags), and categorizable with tags and hierarchies.

The platform should include interactive wellness tools accessible without authentication at /tools including: BMR/TDEE Energy Calculator (calculates basal metabolic rate and total daily energy expenditure based on age, weight, height, activity level), Plate Builder (visual meal planning tool showing portion sizes and macronutrient distribution), Heart Rate Zones Calculator (calculates training zones based on max heart rate or heart rate reserve), Hydration & Sleep Snapshot (tracks daily water intake and sleep quality), Youth Corner (age-appropriate wellness activities and education), and Recovery Check-in (assesses recovery status and readiness to train). All tools should provide real-time calculations with visual feedback within 200 milliseconds, render with mobile-optimized layouts and touch-friendly controls, and offer authenticated users the ability to save tool results to their dashboard for tracking over time.

## E-commerce Features

The store needs advanced features including product reviews and ratings, wishlist functionality, related product recommendations, inventory alerts, discount codes and promotions, gift cards, and affiliate program support. The checkout process should be streamlined with guest checkout options, saved payment methods, multiple shipping options, and order tracking.

## Learning Platform Features

The LMS should support multiple course formats including self-paced courses, cohort-based courses, live sessions with video conferencing integration, and hybrid models. Instructors need tools to create engaging content, manage students, grade assignments, and communicate with learners. Students should have a dedicated learning dashboard showing enrolled courses, progress, upcoming deadlines, and achievements.

The platform needs a certificate system that automatically generates and emails certificates upon course completion, with verification capabilities and shareable links. Courses should support prerequisites, drip content release, and community features like discussion boards.

## Booking System Features

The booking system should handle multiple service types, multiple staff members or instructors, resource allocation (rooms, equipment), buffer times between appointments, and blackout dates. It should integrate with calendar systems, send automated reminders, handle cancellations and rescheduling, and support waitlists for popular time slots.

## Blog Platform Features

The blog needs advanced features including featured posts, trending content, author pages, guest posting capabilities, content series, newsletter integration, social sharing, and related post recommendations. The platform should support multiple content formats including standard posts, galleries, videos, and podcasts.

## Payment & Financial Features

The platform requires comprehensive Stripe integration for one-time payments, subscriptions, payment plans, refunds, and invoicing. It should support multiple currencies, tax calculation, and financial reporting. The system needs to track all transactions, generate financial reports, and provide export capabilities for accounting purposes.

## Communication Features

I need integrated email functionality using Resend for all email communications. Implement transactional emails including: account setup emails with unique setup tokens and activation links sent when admins create new user accounts, order confirmation emails with receipt and tracking information sent immediately after purchase, donation confirmation emails with tax receipt information, gear drive confirmation emails with coordination details and next steps, password reset emails with time-limited tokens, booking confirmation emails with discovery call details and calendar invitations, and order status update emails when admins change order status. Include marketing emails for newsletters and promotions, course notifications for enrollment and completion, and automated drip campaigns for onboarding and engagement. All emails should use professional templates with AFYA branding, personalization with user names and relevant details, and tracking for open rates and click-through rates.

The system should support in-app notifications displayed in a notification center on the user dashboard showing important updates, system messages, and action items. Implement real-time alerts for time-sensitive information and user preferences for notification types allowing users to control which notifications they receive via email versus in-app. Include admin-to-client messaging interface for direct communication with email delivery and internal notes on client profiles visible only to team members for coordination and context.

## Mobile Responsiveness & Accessibility

The entire platform must be fully responsive and mobile-optimized rendering all pages with responsive layouts that adapt to screen widths from 320 pixels (small phones) to 2560 pixels (large desktops). Implement touch-friendly interfaces with minimum tap target sizes of 44 pixels by 44 pixels for all interactive elements. Optimize images and assets for mobile bandwidth constraints with responsive image loading and WebP format support. Achieve a mobile Lighthouse performance score of 90 or higher. Maintain full functionality across iOS Safari, Android Chrome, and mobile Firefox browsers. Include mobile-specific navigation with hamburger menus, bottom navigation bars for key actions, and swipe gestures where appropriate.

The platform must meet WCAG 2.1 Level AA accessibility standards with comprehensive implementation. Provide keyboard navigation for all interactive elements with visible focus indicators showing clear focus states. Implement appropriate ARIA labels and semantic HTML for screen reader compatibility ensuring all content is accessible to assistive technologies. Maintain a color contrast ratio of at least 4.5:1 for normal text and 3:1 for large text throughout the entire interface. Provide alternative text for all images and meaningful content. Implement accessible forms with proper labels, error messages, and validation feedback. Include skip navigation links, landmark regions, and heading hierarchy for easy navigation. Support screen reader announcements for dynamic content updates and ensure all interactive components are keyboard accessible with logical tab order.

## Performance & Security

The platform needs comprehensive performance optimizations to achieve a Lighthouse performance score of 90 or higher on both desktop and mobile. Implement image optimization with next/image component, WebP format, responsive sizing, and lazy loading. Use code splitting and lazy loading for non-critical resources to reduce initial bundle size. Implement caching strategies including database query caching with Redis or similar, API response caching, and static asset caching with appropriate cache headers. Integrate CDN for static assets and media files. Achieve largest contentful paint within 2.5 seconds on 3G connections, first input delay of less than 100 milliseconds, and cumulative layout shift score of less than 0.1. Implement font optimization with next/font, preloading critical resources, and minimizing render-blocking resources.

Security features must include CSRF protection built into Next.js Server Actions, XSS prevention through React's automatic escaping and Content Security Policy headers, SQL injection prevention through Prisma's parameterized queries, rate limiting on sensitive endpoints like login and password reset, comprehensive input validation using Zod schemas for all user inputs, secure file uploads with file type validation and size limits, and regular security audits. Encrypt all data transmissions using TLS 1.3 or higher. Store passwords using bcrypt hashing with a minimum cost factor of 12. Process all payment transactions through PCI-compliant Stripe integration without storing card details. Implement session timeout after 30 minutes of inactivity with warning dialogs. Add security headers including X-Frame-Options, X-Content-Type-Options, and Referrer-Policy.

Implement comprehensive error tracking with Sentry integration capturing all errors with stack traces, context, and user information for debugging. Implement activity logging for audit trails tracking all significant user actions including logins with timestamp and IP address, assessment and form submissions with user identifier, transactions with amount and status, and admin actions with admin identifier and affected resources. Retain activity logs for a minimum of 90 days. Monitor uptime and performance with health check endpoints and alerting for downtime or performance degradation. Implement automated backups of database and file storage with daily snapshots and disaster recovery procedures including backup restoration testing.

## Technical Stack

Build the platform using Next.js 14.2 with App Router and React Server Components for optimal performance, React 18.3 for the UI library, TypeScript 5.4 for type safety with strict mode enabled, and Tailwind CSS 3.4 for styling with custom color palette (primary, secondary, accent) and custom fonts (Inter for body, Poppins for headings). Use PostgreSQL as the primary database with Prisma ORM 7.0 for type-safe database access, automatic migrations, and connection pooling. Implement @prisma/adapter-pg for PostgreSQL adapter and pg for the database driver. Use NextAuth.js v5.0 (beta.30) for authentication with credentials provider, JWT strategy for sessions, and custom callbacks for role and population data. Integrate Stripe 20.0 for payment processing with @stripe/stripe-js 8.5.2 for the client-side integration. Use Resend 6.5.2 for transactional email delivery with professional templates. Implement Vercel Blob 2.0 for file storage of PDFs and images with secure upload and download capabilities. Use @react-pdf/renderer 4.3.1 for PDF generation with custom templates and components. Implement Zod 4.1.12 for schema validation, react-hook-form 7.66.1 for form management, and @hookform/resolvers 5.2.2 for connecting Zod validation to forms. Use lucide-react 0.554 for icons, date-fns 4.1 for date manipulation, and bcryptjs 3.0.3 for password hashing. Implement @sentry/nextjs 10.26 for error tracking and monitoring. Use Vitest 4.0.13 for unit testing, @testing-library/react 16.3 for component testing, and Playwright 1.56.1 for end-to-end testing. All dependencies should use the exact versions specified to ensure compatibility.

## Integration Requirements

The platform should integrate with Calendly or similar for scheduling, Stripe for payments, email service (Resend), file storage (Vercel Blob or AWS S3), video hosting (Vimeo or YouTube), analytics (Google Analytics), and error tracking (Sentry). Consider social media integrations for sharing and authentication.

## SEO & Marketing

Implement comprehensive SEO with meta tags, Open Graph tags, structured data, XML sitemaps, and optimized URLs. Include marketing features like email capture, lead magnets, landing page builder, A/B testing capabilities, and analytics integration.

## Documentation & Support

The platform needs comprehensive documentation including user guides for customers, admin guides for administrators, instructor guides for course creators, API documentation for developers, and troubleshooting guides. Include in-app help, tooltips, and onboarding flows for new users.

## Deployment & DevOps

Set up CI/CD pipelines with automated testing, staging environments, and production deployment. Use Vercel for hosting with environment-specific configurations, automated backups, monitoring, and logging. Implement feature flags for gradual rollouts.

## Future Considerations

Plan for scalability with the ability to handle growing user bases, content libraries, and transaction volumes. Consider future features like mobile apps, API for third-party integrations, white-label capabilities, multi-language support, and advanced analytics.

This comprehensive platform combines the best features of AFYA Wellness with additional e-commerce, learning, booking, and blogging capabilities to create a complete digital ecosystem for users. The system should be modular, allowing features to be enabled or disabled based on specific needs, and should be built with scalability and maintainability in mind.


## Interactive Wellness Resources Map System

The contact page must include a comprehensive interactive map system that helps users discover nearby health and fitness resources. Implement a full-screen interactive map using Google Maps API or Mapbox with user location detection, search functionality with autocomplete, and current location button. The map should display ten categories of wellness resources with color-coded markers: Gyms & Fitness Centers (red), Parks & Recreation (green), Health Clinics (blue), Physical Therapy (purple), Nutrition Services (orange), Mental Health (teal), Yoga & Mindfulness (pink), Sports Facilities (yellow), Community Programs (brown), and Specialty Services (gray). Use cluster markers for dense areas showing the count of nearby resources.

Include a comprehensive filter panel with category checkboxes to show or hide resource types, distance radius slider (1, 5, 10, 25, 50 miles), amenities filters (free/low-cost, wheelchair accessible, open now, accepts insurance, family-friendly, senior programs, youth programs), price range filter, rating filter, open hours filter, and search within results. Provide a side panel listing view showing filtered resources sorted by distance with each resource card displaying name, category icon, star rating, distance, address with directions link, phone number with click-to-call, website link, hours with open indicator, price indicator, amenities icons, brief description, and view details button.

When users click a marker or view details, display a comprehensive resource detail modal showing resource name and category, photo gallery, full address with embedded map, contact information, complete hours of operation, full description, services offered, amenities and features, pricing information, reviews and ratings section, directions button opening in native maps, save to favorites option for logged-in users, share functionality, report incorrect information link, and similar nearby resources recommendations. Integrate data from Google Places API for business data, Yelp API for reviews, OpenStreetMap for public spaces, government databases for health facilities, community-submitted resources with admin approval, and highlight verified partnership locations.

Provide admin management interface at /admin/resources for managing the resource database including adding custom resources, editing information, verifying community submissions, featuring partner locations, adding descriptions and photos, setting categories and tags, managing visibility, bulk import from CSV, exporting data, and viewing analytics on most viewed resources and popular categories. Allow logged-in users to save favorite resources, create custom lists, get notifications for new nearby resources, submit new resources for review, rate and review resources, share with friends, print resource lists, and export to calendar or maps. Ensure full mobile optimization with touch-friendly interface, geolocation, one-tap directions to native maps, click-to-call, swipe gestures, offline mode for previously viewed resources, and battery-efficient location tracking. Implement comprehensive accessibility features including screen reader compatibility, keyboard navigation, high contrast mode, text size adjustment, alternative text for markers, accessible color palette for color-blind users, and focus indicators on all interactive elements.
