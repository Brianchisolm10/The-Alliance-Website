@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-first base styles */
@layer base {
  html {
    /* Prevent font size adjustments on orientation change */
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
    
    /* Enable smooth scrolling */
    scroll-behavior: smooth;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
    
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  body {
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
    
    /* Better font rendering on mobile */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Better tap highlighting on mobile */
  * {
    -webkit-tap-highlight-color: rgba(37, 99, 235, 0.1);
  }

  /* Focus visible styles for better keyboard navigation */
  *:focus-visible {
    outline: 2px solid #2563eb;
    outline-offset: 2px;
  }

  /* Remove default focus styles when using focus-visible */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Improve touch scrolling on iOS */
  .scroll-smooth {
    -webkit-overflow-scrolling: touch;
  }
}

/* Mobile-optimized utilities */
@layer utilities {
  /* Screen reader only - visually hidden but accessible to screen readers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Make sr-only element visible when focused */
  .sr-only-focusable:focus,
  .sr-only-focusable:active {
    position: static;
    width: auto;
    height: auto;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Skip to main content link */
  .skip-to-main {
    position: absolute;
    left: -9999px;
    z-index: 999;
    padding: 1rem 1.5rem;
    background-color: #1e40af;
    color: white;
    text-decoration: none;
    border-radius: 0.375rem;
  }

  .skip-to-main:focus {
    left: 1rem;
    top: 1rem;
  }

  /* Touch-friendly utilities */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent text selection on buttons and interactive elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }

  /* Safe area insets for notched devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
}

/* Mobile-specific component styles */
@layer components {
  /* Mobile-optimized container */
  .container-mobile {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  @media (min-width: 640px) {
    .container-mobile {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  @media (min-width: 1024px) {
    .container-mobile {
      max-width: 1280px;
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  /* Mobile-friendly card hover */
  .card-interactive {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  @media (hover: hover) {
    .card-interactive:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
  }

  .card-interactive:active {
    transform: scale(0.98);
  }
}
